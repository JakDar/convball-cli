#+TITLE: Readme

* Future Improvements
** Type support
*** TODO [#A] Scala Map => Entry class
#+BEGIN_SRC scala
case class Ala(ola:Int, firendAges: Map[String,Int])
#+END_SRC

#+BEGIN_SRC protobuf
message Ala {
  required int32 ola = 1;
  repeated FriendAgesEntry friendAges = 2;
}

message FriendAgesEntry{
  required string key = 1;
  required string value = 2;
}
#+END_SRC
*** TODO [#A] Scala tuple => Entry class
- avoid name conflicts
*** TODO Handle certain types in ScalaToCommon
1. ByteString and friends
2. ZonedDateTime and friends (also when there is =java.time.ZonedDateTime=)
** Docs
*** TODO decide and comment name casing in common AST
** New formats
*** TODO Pseudo json support?
- names with example values
*** TODO Postgresql create table
** Misc
*** TODO [#C] Generate Grpc Service with nice api from proto
* OneOf Support
** Outline
1. Proto
#+begin_src protobuf
message Ala {
  required string name = 1;

  oneof result {
    string s = 1;
    int32 i = 2;
  }
}
#+end_src
2. Scala
#+begin_src scala :noeval
case class Ala(
    name: String,
    result: AlaResult,
)

sealed trait AlaResult

object AlaResult {
  case class AlaResultS(s: String) extends AlaResult
  case class AlaResultI(i: Int)    extends AlaResult
}
#+end_src
** DONE Proto => Scala
CLOSED: [2021-04-05 Mon 22:14]
** TODO Sealed trait - add extends
** TODO Check increase numebe
